<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Canvas mechanics</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <h1>Вариант задания:</h1>
    <br>
    <div class="text_condition">
        <p>R = 1.5*r</p>
        <p>h = 0.5*r</p>
        <p>Малая окружность будет находиться внутри большой</p>
    </div>
    <br>

    <h1>Результат:</h1>
    <div class="container">
        <canvas id="canvas"></canvas>
        <canvas id="canvas2"></canvas>
    </div>
    <script src="script.js"></script>
    <br>

    <h1 style="margin-top: 600px;">
        HTML развертка:
    </h1>

    <br>

    <div class="code_html">
        <pre>
            <code id="htmlViewer" style="color:rgb(0, 0, 0); font-weight:400;background-color:rgb(255, 255, 255);background:rgb(255, 255, 255);display:block;padding: .5em;"><span style="color:rgb(204, 204, 204); font-weight:400;">&lt;!DOCTYPE <span style="color:rgb(204, 204, 204); font-weight:400;">html</span>&gt;</span>
           <span style="color:rgb(0, 0, 0); font-weight:400;">&lt;<span style="color:rgb(0, 0, 0); font-weight:700;">html</span> <span style="color:rgb(0, 0, 0); font-weight:400;">lang</span>=<span style="color:rgb(136, 136, 136); font-weight:400;">&quot;ru&quot;</span>&gt;</span>
           
           <span style="color:rgb(0, 0, 0); font-weight:400;">&lt;<span style="color:rgb(0, 0, 0); font-weight:700;">head</span>&gt;</span>
               <span style="color:rgb(0, 0, 0); font-weight:400;">&lt;<span style="color:rgb(0, 0, 0); font-weight:700;">meta</span> <span style="color:rgb(0, 0, 0); font-weight:400;">charset</span>=<span style="color:rgb(136, 136, 136); font-weight:400;">&quot;UTF-8&quot;</span>&gt;</span>
               <span style="color:rgb(0, 0, 0); font-weight:400;">&lt;<span style="color:rgb(0, 0, 0); font-weight:700;">meta</span> <span style="color:rgb(0, 0, 0); font-weight:400;">name</span>=<span style="color:rgb(136, 136, 136); font-weight:400;">&quot;viewport&quot;</span> <span style="color:rgb(0, 0, 0); font-weight:400;">content</span>=<span style="color:rgb(136, 136, 136); font-weight:400;">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span>
               <span style="color:rgb(0, 0, 0); font-weight:400;">&lt;<span style="color:rgb(0, 0, 0); font-weight:700;">title</span>&gt;</span>Canvas mechanics<span style="color:rgb(0, 0, 0); font-weight:400;">&lt;/<span style="color:rgb(0, 0, 0); font-weight:700;">title</span>&gt;</span>
               <span style="color:rgb(0, 0, 0); font-weight:400;">&lt;<span style="color:rgb(0, 0, 0); font-weight:700;">link</span> <span style="color:rgb(0, 0, 0); font-weight:400;">rel</span>=<span style="color:rgb(136, 136, 136); font-weight:400;">&quot;stylesheet&quot;</span> <span style="color:rgb(0, 0, 0); font-weight:400;">href</span>=<span style="color:rgb(136, 136, 136); font-weight:400;">&quot;style.css&quot;</span>&gt;</span>
           <span style="color:rgb(0, 0, 0); font-weight:400;">&lt;/<span style="color:rgb(0, 0, 0); font-weight:700;">head</span>&gt;</span>
           
           <span style="color:rgb(0, 0, 0); font-weight:400;">&lt;<span style="color:rgb(0, 0, 0); font-weight:700;">body</span>&gt;</span>
           
               <span style="color:rgb(0, 0, 0); font-weight:400;">&lt;<span style="color:rgb(0, 0, 0); font-weight:700;">canvas</span> <span style="color:rgb(0, 0, 0); font-weight:400;">id</span>=<span style="color:rgb(136, 136, 136); font-weight:400;">&quot;canvas&quot;</span>&gt;</span><span style="color:rgb(0, 0, 0); font-weight:400;">&lt;/<span style="color:rgb(0, 0, 0); font-weight:700;">canvas</span>&gt;</span>
               <span style="color:rgb(0, 0, 0); font-weight:400;">&lt;<span style="color:rgb(0, 0, 0); font-weight:700;">canvas</span> <span style="color:rgb(0, 0, 0); font-weight:400;">id</span>=<span style="color:rgb(136, 136, 136); font-weight:400;">&quot;canvas2&quot;</span>&gt;</span><span style="color:rgb(0, 0, 0); font-weight:400;">&lt;/<span style="color:rgb(0, 0, 0); font-weight:700;">canvas</span>&gt;</span>
               
               <span style="color:rgb(0, 0, 0); font-weight:400;">&lt;<span style="color:rgb(0, 0, 0); font-weight:700;">script</span> <span style="color:rgb(0, 0, 0); font-weight:400;">src</span>=<span style="color:rgb(136, 136, 136); font-weight:400;">&quot;script.js&quot;</span>&gt;</span><span style="color:rgb(0, 0, 0); font-weight:400;">&lt;/<span style="color:rgb(0, 0, 0); font-weight:700;">script</span>&gt;</span>
              
           <span style="color:rgb(0, 0, 0); font-weight:400;">&lt;/<span style="color:rgb(0, 0, 0); font-weight:700;">body</span>&gt;</span>
           
           <span style="color:rgb(0, 0, 0); font-weight:400;">&lt;/<span style="color:rgb(0, 0, 0); font-weight:700;">html</span>&gt;</span></code></pre>
    </div>
    <br>
    <h1>Код на JS: </h1>

    <div class="code_js">
        <pre>
            <code id="htmlViewer" style="color:rgb(0, 0, 0); font-weight:400;background-color:rgb(255, 255, 255);background:rgb(255, 255, 255);display:block;padding: .5em;"><span style="color:rgb(0, 0, 0); font-weight:700;">const</span> canvas = <span style="color:rgb(0, 0, 0); font-weight:400;">document</span>.getElementById(<span style="color:rgb(136, 136, 136); font-weight:400;">&quot;canvas&quot;</span>);
           <span style="color:rgb(0, 0, 0); font-weight:700;">const</span> context = canvas.getContext(<span style="color:rgb(136, 136, 136); font-weight:400;">&quot;2d&quot;</span>);
           
           <span style="color:rgb(0, 0, 0); font-weight:700;">const</span> canvas2 = <span style="color:rgb(0, 0, 0); font-weight:400;">document</span>.getElementById(<span style="color:rgb(136, 136, 136); font-weight:400;">&quot;canvas2&quot;</span>);
           <span style="color:rgb(0, 0, 0); font-weight:700;">const</span> context2 = canvas2.getContext(<span style="color:rgb(136, 136, 136); font-weight:400;">&quot;2d&quot;</span>);
           
           canvas.width =<span style="color:rgb(0, 0, 0); font-weight:400;">800</span>;
           canvas.height =<span style="color:rgb(0, 0, 0); font-weight:400;">600</span>;
           
           canvas2.width =<span style="color:rgb(0, 0, 0); font-weight:400;">800</span>;
           canvas2.height =<span style="color:rgb(0, 0, 0); font-weight:400;">600</span>;
           
           <span style="color:rgb(0, 0, 0); font-weight:700;">const</span> rm = <span style="color:rgb(0, 0, 0); font-weight:400;">100</span>;
           <span style="color:rgb(0, 0, 0); font-weight:700;">const</span> Rb = <span style="color:rgb(0, 0, 0); font-weight:400;">1.5</span> * rm;
           <span style="color:rgb(0, 0, 0); font-weight:700;">const</span> h = <span style="color:rgb(0, 0, 0); font-weight:400;">0.5</span> * rm;
           
           <span style="color:rgb(204, 204, 204); font-weight:400;">// Приступим к ее анимированию</span>
           <span style="color:rgb(0, 0, 0); font-weight:700;">let</span> angle = <span style="color:rgb(0, 0, 0); font-weight:400;">0</span>;
           <span style="color:rgb(0, 0, 0); font-weight:700;">let</span> angle2 = <span style="color:rgb(0, 0, 0); font-weight:400;">0</span>;
           
           animation({
               clear () {
                   context.clearRect(<span style="color:rgb(0, 0, 0); font-weight:400;">0</span>, <span style="color:rgb(0, 0, 0); font-weight:400;">0</span>, canvas.width, canvas.height);
               },
           
               update () {
                   angle -= <span style="color:rgb(0, 0, 0); font-weight:400;">Math</span>.PI * <span style="color:rgb(0, 0, 0); font-weight:400;">0.01</span>;
                   angle2 -= <span style="color:rgb(0, 0, 0); font-weight:400;">Math</span>.PI * <span style="color:rgb(0, 0, 0); font-weight:400;">0.02</span>;
               },
           
               render () {
                   context.strokeStyle = <span style="color:rgb(136, 136, 136); font-weight:400;">&quot;black&quot;</span>;
               
                   context.beginPath();
                   context.arc(canvas.width / <span style="color:rgb(0, 0, 0); font-weight:400;">2</span>, canvas.height / <span style="color:rgb(0, 0, 0); font-weight:400;">2</span>, Rb, <span style="color:rgb(0, 0, 0); font-weight:400;">0</span>, <span style="color:rgb(0, 0, 0); font-weight:400;">Math</span>.PI * <span style="color:rgb(0, 0, 0); font-weight:400;">2</span>);
                   context.stroke();
               
                   context.beginPath();
                   context.arc(canvas.width / <span style="color:rgb(0, 0, 0); font-weight:400;">2</span>, canvas.height / <span style="color:rgb(0, 0, 0); font-weight:400;">2</span>, <span style="color:rgb(0, 0, 0); font-weight:400;">2</span>, <span style="color:rgb(0, 0, 0); font-weight:400;">0</span>, <span style="color:rgb(0, 0, 0); font-weight:400;">Math</span>.PI * <span style="color:rgb(0, 0, 0); font-weight:400;">2</span>);
                   context.stroke();
               
                   context.beginPath();
                   context.arc(
                       (canvas.width / <span style="color:rgb(0, 0, 0); font-weight:400;">2</span> ) + (Rb-rm) * <span style="color:rgb(0, 0, 0); font-weight:400;">Math</span>.cos(angle), 
                       (canvas.height / <span style="color:rgb(0, 0, 0); font-weight:400;">2</span>) + (Rb-rm) * <span style="color:rgb(0, 0, 0); font-weight:400;">Math</span>.sin(angle), 
                       rm,
                       <span style="color:rgb(0, 0, 0); font-weight:400;">0</span>,
                       <span style="color:rgb(0, 0, 0); font-weight:400;">Math</span>.PI * <span style="color:rgb(0, 0, 0); font-weight:400;">2</span>
                   );
                   context.stroke();
               
                   context.beginPath();
                   context.arc(
                       (canvas.width / <span style="color:rgb(0, 0, 0); font-weight:400;">2</span> ) + (Rb-rm) * <span style="color:rgb(0, 0, 0); font-weight:400;">Math</span>.cos(angle), 
                       (canvas.height / <span style="color:rgb(0, 0, 0); font-weight:400;">2</span>) + (Rb-rm) * <span style="color:rgb(0, 0, 0); font-weight:400;">Math</span>.sin(angle), 
                       <span style="color:rgb(0, 0, 0); font-weight:400;">2</span>,
                       <span style="color:rgb(0, 0, 0); font-weight:400;">0</span>,
                       <span style="color:rgb(0, 0, 0); font-weight:400;">Math</span>.PI * <span style="color:rgb(0, 0, 0); font-weight:400;">2</span>
                   );
                   context.stroke();
               
                   context.beginPath();
                   context.moveTo(canvas.width / <span style="color:rgb(0, 0, 0); font-weight:400;">2</span>, canvas.height / <span style="color:rgb(0, 0, 0); font-weight:400;">2</span>);
                   context.lineTo(
                       (canvas.width / <span style="color:rgb(0, 0, 0); font-weight:400;">2</span> ) + (Rb-rm) * <span style="color:rgb(0, 0, 0); font-weight:400;">Math</span>.cos(angle), 
                       (canvas.height / <span style="color:rgb(0, 0, 0); font-weight:400;">2</span>) + (Rb-rm) * <span style="color:rgb(0, 0, 0); font-weight:400;">Math</span>.sin(angle),
                   );
                   context.stroke();
               
                   context.beginPath();
                   context.moveTo(
                       (canvas.width / <span style="color:rgb(0, 0, 0); font-weight:400;">2</span> ) + (Rb-rm) * <span style="color:rgb(0, 0, 0); font-weight:400;">Math</span>.cos(angle), 
                       (canvas.height / <span style="color:rgb(0, 0, 0); font-weight:400;">2</span>) + (Rb-rm) * <span style="color:rgb(0, 0, 0); font-weight:400;">Math</span>.sin(angle),
                   );
                   context.lineTo(
                       (canvas.width / <span style="color:rgb(0, 0, 0); font-weight:400;">2</span> ) + (Rb-rm) * <span style="color:rgb(0, 0, 0); font-weight:400;">Math</span>.cos(angle) + h* <span style="color:rgb(0, 0, 0); font-weight:400;">Math</span>.cos(angle2),
                       (canvas.height / <span style="color:rgb(0, 0, 0); font-weight:400;">2</span>) + (Rb-rm) * <span style="color:rgb(0, 0, 0); font-weight:400;">Math</span>.sin(angle) + h* <span style="color:rgb(0, 0, 0); font-weight:400;">Math</span>.sin(angle2)
                   );
                   context.stroke();
               
                   <span style="color:rgb(204, 204, 204); font-weight:400;">//Строим систему координат</span>
                   context.beginPath();
                   context.moveTo(canvas.width / <span style="color:rgb(0, 0, 0); font-weight:400;">2</span>, <span style="color:rgb(0, 0, 0); font-weight:400;">0</span>);
                   context.lineTo(canvas.width / <span style="color:rgb(0, 0, 0); font-weight:400;">2</span>, <span style="color:rgb(0, 0, 0); font-weight:400;">600</span>);
                   context.stroke();
                   
                   context.font = <span style="color:rgb(136, 136, 136); font-weight:400;">&quot;15px sans-serif&quot;</span>;
                   context.fillText(<span style="color:rgb(136, 136, 136); font-weight:400;">&quot;y&quot;</span>, canvas.width / <span style="color:rgb(0, 0, 0); font-weight:400;">2</span> - <span style="color:rgb(0, 0, 0); font-weight:400;">20</span>, <span style="color:rgb(0, 0, 0); font-weight:400;">15</span>)
               
                   context.beginPath();
                   context.moveTo(<span style="color:rgb(0, 0, 0); font-weight:400;">0</span>, canvas.height / <span style="color:rgb(0, 0, 0); font-weight:400;">2</span>);
                   context.lineTo(<span style="color:rgb(0, 0, 0); font-weight:400;">800</span>, canvas.height / <span style="color:rgb(0, 0, 0); font-weight:400;">2</span>);
                   context.stroke();
               
                   context.fillText(<span style="color:rgb(136, 136, 136); font-weight:400;">&quot;x&quot;</span>, <span style="color:rgb(0, 0, 0); font-weight:400;">800</span> -<span style="color:rgb(0, 0, 0); font-weight:400;">20</span> , canvas.height / <span style="color:rgb(0, 0, 0); font-weight:400;">2</span> + <span style="color:rgb(0, 0, 0); font-weight:400;">20</span>)
               
                   context.beginPath();
                   context.moveTo(canvas.width / <span style="color:rgb(0, 0, 0); font-weight:400;">2</span>, <span style="color:rgb(0, 0, 0); font-weight:400;">0</span>);
                   context.lineTo(canvas.width / <span style="color:rgb(0, 0, 0); font-weight:400;">2</span> + <span style="color:rgb(0, 0, 0); font-weight:400;">5</span>, <span style="color:rgb(0, 0, 0); font-weight:400;">10</span>);
                   context.stroke();
               
                   context.beginPath();
                   context.moveTo(canvas.width / <span style="color:rgb(0, 0, 0); font-weight:400;">2</span>, <span style="color:rgb(0, 0, 0); font-weight:400;">0</span>);
                   context.lineTo(canvas.width / <span style="color:rgb(0, 0, 0); font-weight:400;">2</span> - <span style="color:rgb(0, 0, 0); font-weight:400;">5</span>, <span style="color:rgb(0, 0, 0); font-weight:400;">10</span>);
                   context.stroke();
               
                   context.beginPath();
                   context.moveTo(<span style="color:rgb(0, 0, 0); font-weight:400;">800</span>, canvas.height / <span style="color:rgb(0, 0, 0); font-weight:400;">2</span>);
                   context.lineTo(<span style="color:rgb(0, 0, 0); font-weight:400;">800</span> - <span style="color:rgb(0, 0, 0); font-weight:400;">10</span>, canvas.height / <span style="color:rgb(0, 0, 0); font-weight:400;">2</span> - <span style="color:rgb(0, 0, 0); font-weight:400;">5</span>);
                   context.stroke();
               
                   context.beginPath();
                   context.moveTo(<span style="color:rgb(0, 0, 0); font-weight:400;">800</span>, canvas.height / <span style="color:rgb(0, 0, 0); font-weight:400;">2</span>);
                   context.lineTo(<span style="color:rgb(0, 0, 0); font-weight:400;">800</span> -<span style="color:rgb(0, 0, 0); font-weight:400;">10</span>, canvas.height / <span style="color:rgb(0, 0, 0); font-weight:400;">2</span> + <span style="color:rgb(0, 0, 0); font-weight:400;">5</span>);
                   context.stroke();
               
                   <span style="color:rgb(204, 204, 204); font-weight:400;">//Строим точку М</span>
                   context.strokeStyle = <span style="color:rgb(136, 136, 136); font-weight:400;">&quot;green&quot;</span>;
               
                   context.beginPath();
                   context.arc(
                       (canvas.width / <span style="color:rgb(0, 0, 0); font-weight:400;">2</span> ) + (Rb-rm) * <span style="color:rgb(0, 0, 0); font-weight:400;">Math</span>.cos(angle) + h* <span style="color:rgb(0, 0, 0); font-weight:400;">Math</span>.cos(angle2),
                       (canvas.height / <span style="color:rgb(0, 0, 0); font-weight:400;">2</span>) + (Rb-rm) * <span style="color:rgb(0, 0, 0); font-weight:400;">Math</span>.sin(angle) + h* <span style="color:rgb(0, 0, 0); font-weight:400;">Math</span>.sin(angle2),
                       <span style="color:rgb(0, 0, 0); font-weight:400;">2</span>,
                       <span style="color:rgb(0, 0, 0); font-weight:400;">0</span>,
                       <span style="color:rgb(0, 0, 0); font-weight:400;">Math</span>.PI * <span style="color:rgb(0, 0, 0); font-weight:400;">2</span>
                   );
                   context.stroke();
           
                   context2.strokeStyle = <span style="color:rgb(136, 136, 136); font-weight:400;">&quot;green&quot;</span>;
           
                   context2.beginPath();
                   context2.arc(
                       (canvas.width / <span style="color:rgb(0, 0, 0); font-weight:400;">2</span> ) + (Rb-rm) * <span style="color:rgb(0, 0, 0); font-weight:400;">Math</span>.cos(angle) + h* <span style="color:rgb(0, 0, 0); font-weight:400;">Math</span>.cos(angle2),
                       (canvas.height / <span style="color:rgb(0, 0, 0); font-weight:400;">2</span>) + (Rb-rm) * <span style="color:rgb(0, 0, 0); font-weight:400;">Math</span>.sin(angle) + h* <span style="color:rgb(0, 0, 0); font-weight:400;">Math</span>.sin(angle2),
                       <span style="color:rgb(0, 0, 0); font-weight:400;">1</span>,
                       <span style="color:rgb(0, 0, 0); font-weight:400;">0</span>,
                       <span style="color:rgb(0, 0, 0); font-weight:400;">Math</span>.PI * <span style="color:rgb(0, 0, 0); font-weight:400;">2</span>
                   );
                   context2.stroke();
               }
           })
           
           <span style="color:rgb(0, 0, 0); font-weight:400;"><span style="color:rgb(0, 0, 0); font-weight:700;">function</span> <span style="color:rgb(0, 0, 0); font-weight:400;">animation</span>(<span style="color:rgb(0, 0, 0); font-weight:400;">obj</span>)</span>{
               <span style="color:rgb(0, 0, 0); font-weight:700;">const</span> {clear, update, render} = obj;
               <span style="color:rgb(0, 0, 0); font-weight:700;">let</span> pTimestamp = <span style="color:rgb(0, 0, 0); font-weight:400;">0</span>;
           
               requestAnimationFrame(tick);
           
               <span style="color:rgb(0, 0, 0); font-weight:400;"><span style="color:rgb(0, 0, 0); font-weight:700;">function</span> <span style="color:rgb(0, 0, 0); font-weight:400;">tick</span>(<span style="color:rgb(0, 0, 0); font-weight:400;">timestamp</span>)</span>{
                   requestAnimationFrame(tick);
                   
                   <span style="color:rgb(0, 0, 0); font-weight:700;">const</span> diff = timestamp - pTimestamp;
                   pTimestamp = timestamp;
                   <span style="color:rgb(0, 0, 0); font-weight:700;">const</span> fps = <span style="color:rgb(0, 0, 0); font-weight:400;">1000</span> / diff;
                   <span style="color:rgb(0, 0, 0); font-weight:700;">const</span> secondPart = diff / <span style="color:rgb(0, 0, 0); font-weight:400;">1000</span>;
           
                   <span style="color:rgb(0, 0, 0); font-weight:700;">const</span> params = {
                       timestamp,
                       pTimestamp,
                       diff,
                       fps,
                       secondPart
                   }
           
                   update(params);
                   clear();
                   render(params);
               }
           }</code></pre>
    </div>
</body>

</html>